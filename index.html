<!DOCTYPE html>
<html>
<head>
 <title>Custom Page Add-In</title>
 <script>
  geotab.addin.myaddin = () => {

   return {
    initialize(api, state, callback) {
var _fromDate = document.querySelector("#startDate").value; //from Date picker
var _toDate = document.querySelector("#endDate").value;  //from Date picker    
     
     // Event handler
 document.querySelector("#submitBtn").onclick=GenerateChart(_fromDate,_toDate)

// Chart parameters

var idlingCount = 0
var speedingCount =0


var options = {
    title: {
        display: true,
        text: 'Exceptions By Type'

    }

}
     
     callback();
    },
    focus(api, state) {
     console.log('in focus')     
  
     // User interface is available
    },
    blur(api, state) {
     // Save any Add-In state
    }
   };
  };
 </script>
</head>

<body>
    <h1>Data Visualization</h1>
     <div id="dateSelect">
        <label>Start Date<input type="Date" id="startDate"/></label>
        <label>End Date<input type="Date" id="endDate"/></label>
        <button type="input" onclick="GenerateChart(_fromDate,_toDate)">Submit</button>
    </div>
    <canvas id="chartCanvas" style="max-width:600px;max-height: 800px;padding-left:50px"></canvas>

    <script src="helpers.js"></script>
</body>
<style>
    input[type="date"] {
        display: block;
        margin-bottom: 25px;
    }
</style>
</html>
